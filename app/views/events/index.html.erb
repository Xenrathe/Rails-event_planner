<div class="Adventure">
  <div class="top-links">
    <%= link_to "Create Adventure", new_adventure_path %>
    <% if user_signed_in? %>
      <%= link_to "User Page", user_path(current_user) %>
      <%= link_to "Sign out", destroy_user_session_path, method: :delete, data: { turbo_method: :delete, turbo_confirm: 'Are you sure you want to sign out?' } %>
    <% else %>
      <%= link_to "Sign in/New user", new_user_session_path %>
    <% end %>
  </div>

  <div class="adventure-filters">
    <%= form_tag(adventures_path, method: 'get') do %>
      <div class="form-group">
        <%= select_tag 'time', options_for_select([['All', nil], ['Upcoming', 'upcoming'], ['Past', 'past']], params[:time]), class: 'form-control' %>
      </div>

      <div class="form-group">
        <%= select_tag 'vacancy', options_for_select([['All', nil], ['Open', 'open']], params[:vacancy]), class: 'form-control' %>
      </div>

      <div class="form-group">
        <%= select_tag 'ruleset', options_for_select([['All', 'all'], ['Active-char', 'active-character']] + Adventure.rulesets.map { |k, v| [k.humanize, v] }, params[:ruleset]), class: 'form-control' %>
      </div>

      <div class="form-group">
        <%= select_tag 'platform', options_for_select([['All', nil], ['In-Person', 'in_person'], ['Virtual', 'virtual']], params[:platform]), class: 'form-control' %>
      </div>

      <div class="form-group">
        <%= text_field_tag 'min_level', params[:min_level], class: 'form-control', placeholder: 'Min Level' %>
        <%= text_field_tag 'max_level', params[:max_level], class: 'form-control', placeholder: 'Max Level' %>
      </div>

      <%= submit_tag 'Apply Filters', class: 'btn btn-primary' %>
    <% end %>
  </div>

  <h1>Adventures</h1>

  <ul>
    <% @adventures.each do |adventure|%>
      <li> <%= link_to adventure.name, adventure_path(adventure) %>
    <% end %>
  </ul>
</div>

